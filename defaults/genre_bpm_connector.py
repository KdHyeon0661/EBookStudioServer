"""
genre_bpm_connector.py

Auto-generated from homu (genre BPM guide).

- Keys: genre strings (snake_case).
- Values: (min_bpm, max_bpm) tuple, or None when BPM is undefined (e.g., free tempo / no beat).
"""

from __future__ import annotations

from typing import Dict, Optional, Tuple

BpmRange = Tuple[int, int]

GENRE_BPM_CONNECTOR: Dict[str, Optional[BpmRange]] = {
    'acid_house': (120, 130),
    'acoustic': (60, 120),
    'adventure': (80, 140),
    'afro_cuban_jazz': None,
    'afrobeats': (100, 130),
    'alt_country': (60, 120),
    'alternative_metal': (80, 140),
    'alternative_rock': (80, 140),
    'ambient': (60, 90),
    'americana': (60, 120),
    'anime': (80, 150),
    'arena_rock': (80, 120),
    'art_pop': (60, 140),
    'bachata': (110, 140),
    'baroque': (60, 160),
    'baroque_pop': (60, 120),
    'battle': (120, 180),
    'bebop': None,
    'big_beat': (80, 140),
    'black_metal': None,
    'bluegrass': None,
    'blues': (40, 120),
    'blues_rock': (70, 120),
    'boombap': (80, 100),
    'bossa_nova': (100, 140),
    'brass_band': (80, 140),
    'breakbeat': (110, 150),
    'bubblegum_pop': (120, 140),
    'c_pop': (100, 130),
    'calypso': (100, 130),
    'celtic': (80, 140),
    'chamber_music': (50, 140),
    'chicago_blues': (80, 120),
    'chillout': (60, 110),
    'chiptune': (60, 180),
    'chopped_and_screwed': (50, 70),
    'choral': (50, 120),
    'cinematic': (40, 160),
    'city_pop': (90, 120),
    'classical': (40, 180),
    'conscious_hiphop': (80, 100),
    'contemporary_classical': (30, 150),
    'cool_jazz': (60, 120),
    'country': (60, 120),
    'country_blues': (60, 100),
    'country_pop': (100, 130),
    'cumbia': (90, 120),
    'dance_pop': (115, 130),
    'dancehall': (80, 110),
    'dark_ambient': (0, 60),
    'death_metal': None,
    'deathcore': None,
    'deep_house': (110, 125),
    'delta_blues': (60, 100),
    'disco': (110, 130),
    'documentary': (60, 100),
    'doom_metal': (40, 80),
    'downtempo': (60, 100),
    'dream_pop': (60, 100),
    'drill': (130, 150),
    'drone': (0, 60),
    'drum_bass': (160, 180),
    'dubstep': (135, 145),
    'east_coast_hiphop': (80, 100),
    'easy_listening': (60, 100),
    'edm': (120, 140),
    'electro': (120, 130),
    'electro_house': (125, 135),
    'electroclash': (120, 140),
    'electropop': (120, 130),
    'emo': (120, 180),
    'epic': (60, 140),
    'eurodance': (120, 140),
    'exotica': (60, 100),
    'experimental': (0, 200),
    'fado': (60, 100),
    'fantasy': (60, 140),
    'field_recording': None,
    'film_score': (40, 180),
    'flamenco': None,
    'folk': (60, 120),
    'folk_metal': (100, 160),
    'folk_rock': (70, 120),
    'free_jazz': None,
    'freestyle': (110, 130),
    'funk': (90, 120),
    'fusion': (80, 180),
    'future_bass': (130, 170),
    'future_house': (120, 128),
    'gabber': None,
    'gangsta_rap': (80, 100),
    'glam_rock': (100, 140),
    'glitch': (80, 140),
    'glitch_hop': (85, 110),
    'gospel': (60, 120),
    'grime': (130, 140),
    'grindcore': None,
    'grunge': (60, 120),
    'gypsy_jazz': None,
    'handbag_house': (120, 130),
    'hard_rock': (100, 140),
    'hardbag': (130, 150),
    'hardcore': None,
    'hardstyle': (150, 160),
    'hi_nrg': (130, 150),
    'hiphop': (60, 100),
    'honky_tonk': (100, 140),
    'horror': (40, 120),
    'house': (115, 130),
    'idm': (80, 160),
    'impressionist': (50, 120),
    'indie_pop': (80, 120),
    'indie_rock': (80, 130),
    'industrial': (90, 140),
    'industrial_metal': (100, 140),
    'isolationism': (0, 60),
    'italo_disco': (110, 130),
    'j_pop': (100, 130),
    'jazz': (60, 240),
    'jazz_hop': (60, 100),
    'jazz_rap': (80, 110),
    'k_pop': (100, 130),
    'klezmer': (100, 160),
    'latin_jazz': None,
    'lo_fi_hiphop': (60, 90),
    'lofi': (60, 90),
    'lounge': (60, 100),
    'lowercase': (0, 40),
    'marching_band': (120, 140),
    'mariachi': (100, 140),
    'medieval': (60, 120),
    'merengue': (120, 150),
    'metal': (100, 160),
    'metalcore': (140, 180),
    'microsound': (60, 140),
    'military_music': (120, 140),
    'minimal': (60, 120),
    'minimal_techno': (120, 130),
    'minimalism': (60, 120),
    'modal_jazz': (60, 180),
    'modern_classical': (40, 160),
    'mumble_rap': (130, 170),
    'mystery': (50, 110),
    'neoclassical': (50, 140),
    'new_age': (60, 90),
    'new_wave': (100, 130),
    'noir': (60, 100),
    'noise': (0, 200),
    'noise_pop': (100, 140),
    'nu_disco': (110, 130),
    'nu_metal': (80, 140),
    'old_school_hiphop': (80, 100),
    'opera': (40, 160),
    'orchestral': (40, 160),
    'outlaw_country': (80, 120),
    'polka': (120, 140),
    'pop': (100, 130),
    'pop_rock': (100, 140),
    'post_punk': (100, 140),
    'post_rock': (60, 120),
    'power_metal': (140, 200),
    'power_pop': (120, 140),
    'progressive_house': (120, 130),
    'progressive_metal': (60, 200),
    'progressive_rock': (60, 180),
    'psychedelic_rock': (60, 120),
    'psytrance': (140, 150),
    'punk': None,
    'ragtime': (100, 140),
    'reggae': (60, 90),
    'reggaeton': (80, 110),
    'renaissance': (60, 120),
    'rnb': (60, 90),
    'rock': (80, 140),
    'romantic': (40, 140),
    'romantic_film': (60, 100),
    'salsa': (150, 250),
    'samba': (90, 130),
    'sci_fi': (60, 140),
    'sea_shanty': (60, 100),
    'shoegaze': (60, 120),
    'smooth_jazz': (60, 100),
    'soca': (100, 130),
    'soft_rock': (60, 100),
    'soul': (60, 100),
    'soundscape': None,
    'southern_hiphop': (60, 100),
    'southern_rock': (80, 120),
    'space_music': (0, 80),
    'stride': (160, 220),
    'swamp_blues': (60, 100),
    'symphonic': (40, 160),
    'symphonic_metal': (100, 180),
    'synth_pop': (100, 130),
    'synthwave': (80, 118),
    'tango': (100, 130),
    'techno': (120, 140),
    'teen_pop': (100, 130),
    'texas_blues': (80, 120),
    'thrash_metal': None,
    'trance': (130, 145),
    'trap': (130, 170),
    'trip_hop': (60, 110),
    'tropical_house': (100, 115),
    'vaporwave': (60, 100),
    'video_game': (60, 180),
    'west_coast_hiphop': (80, 100),
    'western': (60, 120),
    'wonky': (70, 110),
    'yodeling': (80, 120),
}

def get_bpm_range(genre: str) -> Optional[BpmRange]:
    """Return BPM range for `genre`, or None if unknown/undefined."""
    if not genre:
        return None
    return GENRE_BPM_CONNECTOR.get(genre.strip())

def pick_bpm(genre: str, default: int = 120) -> int:
    """Pick a reasonable BPM for a genre. Uses midpoint of the range, else `default`."""
    r = get_bpm_range(genre)
    if r is None:
        return int(default)
    lo, hi = r
    return int((lo + hi) / 2)

